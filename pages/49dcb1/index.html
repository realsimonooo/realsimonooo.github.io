<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>03.进程管理 | Simon&#39;s Notebook</title>
    <meta name="generator" content="VuePress 1.8.0">
    <link rel="icon" href="/img/favicon.ico">
    <script data-ad-client="ca-pub-7828333725993554" async="async" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <meta name="description" content="一个学习笔记📦 ">
    <meta name="keywords" content="个人博客,编程学习笔记,前端学习笔记,HTML,CSS,JavaWeb">
    <meta name="baidu-site-verification" content="7F55weZDDc">
    <meta name="theme-color" content="#11a8cd">
    <link rel="preload" href="/assets/css/0.styles.2a0ccb75.css" as="style"><link rel="preload" href="/assets/js/app.19ffe2dc.js" as="script"><link rel="preload" href="/assets/js/2.d422faa2.js" as="script"><link rel="preload" href="/assets/js/60.33108cf5.js" as="script"><link rel="prefetch" href="/assets/js/10.761fffb7.js"><link rel="prefetch" href="/assets/js/11.ec46a748.js"><link rel="prefetch" href="/assets/js/12.2358d08a.js"><link rel="prefetch" href="/assets/js/13.5a59503e.js"><link rel="prefetch" href="/assets/js/14.049033b3.js"><link rel="prefetch" href="/assets/js/15.29376e68.js"><link rel="prefetch" href="/assets/js/16.f6d9063f.js"><link rel="prefetch" href="/assets/js/17.8aa6a290.js"><link rel="prefetch" href="/assets/js/18.3202d446.js"><link rel="prefetch" href="/assets/js/19.dbfee1f8.js"><link rel="prefetch" href="/assets/js/20.4b36c16b.js"><link rel="prefetch" href="/assets/js/21.a3411620.js"><link rel="prefetch" href="/assets/js/22.d7a6904e.js"><link rel="prefetch" href="/assets/js/23.f64b0ce0.js"><link rel="prefetch" href="/assets/js/24.cf053670.js"><link rel="prefetch" href="/assets/js/25.f6bde2fe.js"><link rel="prefetch" href="/assets/js/26.245fd216.js"><link rel="prefetch" href="/assets/js/27.61094534.js"><link rel="prefetch" href="/assets/js/28.659675b3.js"><link rel="prefetch" href="/assets/js/29.9a10e92b.js"><link rel="prefetch" href="/assets/js/3.142837e4.js"><link rel="prefetch" href="/assets/js/30.9ba272b3.js"><link rel="prefetch" href="/assets/js/31.7582f4d1.js"><link rel="prefetch" href="/assets/js/32.bb532c02.js"><link rel="prefetch" href="/assets/js/33.b6eccdfd.js"><link rel="prefetch" href="/assets/js/34.4f529a43.js"><link rel="prefetch" href="/assets/js/35.d12dbb94.js"><link rel="prefetch" href="/assets/js/36.1ce41851.js"><link rel="prefetch" href="/assets/js/37.dea4284a.js"><link rel="prefetch" href="/assets/js/38.361bf047.js"><link rel="prefetch" href="/assets/js/39.4295aff9.js"><link rel="prefetch" href="/assets/js/4.b04e7793.js"><link rel="prefetch" href="/assets/js/40.00109bd0.js"><link rel="prefetch" href="/assets/js/41.12ff822e.js"><link rel="prefetch" href="/assets/js/42.ddf2973c.js"><link rel="prefetch" href="/assets/js/43.652b2033.js"><link rel="prefetch" href="/assets/js/44.4b7240bf.js"><link rel="prefetch" href="/assets/js/45.f1f6fc26.js"><link rel="prefetch" href="/assets/js/46.ccf5f903.js"><link rel="prefetch" href="/assets/js/47.a285d94e.js"><link rel="prefetch" href="/assets/js/48.d177c9fd.js"><link rel="prefetch" href="/assets/js/49.a0e2351d.js"><link rel="prefetch" href="/assets/js/5.cb9ad2b9.js"><link rel="prefetch" href="/assets/js/50.565b4eec.js"><link rel="prefetch" href="/assets/js/51.902bf058.js"><link rel="prefetch" href="/assets/js/52.d1454788.js"><link rel="prefetch" href="/assets/js/53.531a9d86.js"><link rel="prefetch" href="/assets/js/54.3d3cadd4.js"><link rel="prefetch" href="/assets/js/55.0b563669.js"><link rel="prefetch" href="/assets/js/56.e1e61fc6.js"><link rel="prefetch" href="/assets/js/57.0422b034.js"><link rel="prefetch" href="/assets/js/58.915aaa59.js"><link rel="prefetch" href="/assets/js/59.4bc06e67.js"><link rel="prefetch" href="/assets/js/6.95dadf4c.js"><link rel="prefetch" href="/assets/js/61.1a8a2cd8.js"><link rel="prefetch" href="/assets/js/62.e7e57be5.js"><link rel="prefetch" href="/assets/js/63.08b3fc91.js"><link rel="prefetch" href="/assets/js/64.f214ef41.js"><link rel="prefetch" href="/assets/js/65.46dc13db.js"><link rel="prefetch" href="/assets/js/66.d567c30e.js"><link rel="prefetch" href="/assets/js/67.ef5693b1.js"><link rel="prefetch" href="/assets/js/68.eb42133d.js"><link rel="prefetch" href="/assets/js/69.fa1e43f5.js"><link rel="prefetch" href="/assets/js/7.46fd8e03.js"><link rel="prefetch" href="/assets/js/70.d4f1127c.js"><link rel="prefetch" href="/assets/js/71.e8484a51.js"><link rel="prefetch" href="/assets/js/72.1bab25d1.js"><link rel="prefetch" href="/assets/js/73.a99a42c8.js"><link rel="prefetch" href="/assets/js/74.a3bf2c59.js"><link rel="prefetch" href="/assets/js/75.8fff661f.js"><link rel="prefetch" href="/assets/js/76.ec3c3950.js"><link rel="prefetch" href="/assets/js/77.382b8077.js"><link rel="prefetch" href="/assets/js/78.d705564e.js"><link rel="prefetch" href="/assets/js/79.3eaf6580.js"><link rel="prefetch" href="/assets/js/8.b834ec12.js"><link rel="prefetch" href="/assets/js/80.a5d57d37.js"><link rel="prefetch" href="/assets/js/81.7607090b.js"><link rel="prefetch" href="/assets/js/82.dfbd8f97.js"><link rel="prefetch" href="/assets/js/9.69fa8435.js">
    <link rel="stylesheet" href="/assets/css/0.styles.2a0ccb75.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/img/logo1.png" alt="Simon's Notebook" class="logo"> <span class="site-name can-hide">Simon's Notebook</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="📓读书笔记" class="dropdown-title"><a href="/note" class="link-title">📓读书笔记</a> <span class="title" style="display:none;">📓读书笔记</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>🧐大二下课程笔记:</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/note/javaweb/" class="nav-link">&lt;JavaWeb&gt;笔记</a></li><li class="dropdown-subitem"><a href="/note/osnote/" class="nav-link">&lt;操作系统&gt;笔记</a></li><li class="dropdown-subitem"><a href="/note/sqlnote/" class="nav-link">&lt;数据库原理与应用&gt;笔记</a></li><li class="dropdown-subitem"><a href="/note/sqlnote/" class="nav-link">&lt;数据库原理与应用&gt;笔记</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/technique/" class="nav-link">🔨技术</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar" style="display:none;"><div class="blogger"><img src="https://avatars.githubusercontent.com/u/60037549?v=4"> <div class="blogger-info"><h3>realsimonooo</h3> <span>status=🤯working/studying</span></div></div> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="📓读书笔记" class="dropdown-title"><a href="/note" class="link-title">📓读书笔记</a> <span class="title" style="display:none;">📓读书笔记</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>🧐大二下课程笔记:</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/note/javaweb/" class="nav-link">&lt;JavaWeb&gt;笔记</a></li><li class="dropdown-subitem"><a href="/note/osnote/" class="nav-link">&lt;操作系统&gt;笔记</a></li><li class="dropdown-subitem"><a href="/note/sqlnote/" class="nav-link">&lt;数据库原理与应用&gt;笔记</a></li><li class="dropdown-subitem"><a href="/note/sqlnote/" class="nav-link">&lt;数据库原理与应用&gt;笔记</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/technique/" class="nav-link">🔨技术</a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/pages/d27693/" class="sidebar-link">01.操作系统</a></li><li><a href="/pages/2516b8/" class="sidebar-link">02.作业</a></li><li><a href="/pages/49dcb1/" aria-current="page" class="active sidebar-link">03.进程管理</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/49dcb1/#进程" class="sidebar-link">1️⃣进程</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/49dcb1/#程序" class="sidebar-link">程序</a></li><li class="sidebar-sub-header"><a href="/pages/49dcb1/#进程的概念" class="sidebar-link">进程的概念</a></li><li class="sidebar-sub-header"><a href="/pages/49dcb1/#进程和程序的区别" class="sidebar-link">进程和程序的区别</a></li><li class="sidebar-sub-header"><a href="/pages/49dcb1/#进程和作业的区别" class="sidebar-link">进程和作业的区别</a></li><li class="sidebar-sub-header"><a href="/pages/49dcb1/#进程控制块-pcb" class="sidebar-link">进程控制块 / PCB</a></li><li class="sidebar-sub-header"><a href="/pages/49dcb1/#进程上下文" class="sidebar-link">进程上下文</a></li><li class="sidebar-sub-header"><a href="/pages/49dcb1/#进程空间与大小" class="sidebar-link">进程空间与大小</a></li></ul></li><li class="sidebar-sub-header"><a href="/pages/49dcb1/#进程状态" class="sidebar-link">2️⃣进程状态</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/49dcb1/#进程状态转换" class="sidebar-link">进程状态转换</a></li></ul></li><li class="sidebar-sub-header"><a href="/pages/49dcb1/#进程调度" class="sidebar-link">3️⃣进程调度</a></li><li class="sidebar-sub-header"><a href="/pages/49dcb1/#进程控制" class="sidebar-link">4️⃣进程控制</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/49dcb1/#原语" class="sidebar-link">原语</a></li><li class="sidebar-sub-header"><a href="/pages/49dcb1/#进程的创建" class="sidebar-link">进程的创建</a></li><li class="sidebar-sub-header"><a href="/pages/49dcb1/#进程的撤销" class="sidebar-link">进程的撤销</a></li><li class="sidebar-sub-header"><a href="/pages/49dcb1/#进程的阻塞" class="sidebar-link">进程的阻塞</a></li><li class="sidebar-sub-header"><a href="/pages/49dcb1/#进程的唤醒" class="sidebar-link">进程的唤醒</a></li></ul></li><li class="sidebar-sub-header"><a href="/pages/49dcb1/#线程" class="sidebar-link">5️⃣线程</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/49dcb1/#线程的概念" class="sidebar-link">线程的概念</a></li><li class="sidebar-sub-header"><a href="/pages/49dcb1/#多线程系统中进程和线程的关系" class="sidebar-link">多线程系统中进程和线程的关系</a></li><li class="sidebar-sub-header"><a href="/pages/49dcb1/#线程和进程的区别" class="sidebar-link">线程和进程的区别</a></li><li class="sidebar-sub-header"><a href="/pages/49dcb1/#线程分类" class="sidebar-link">线程分类</a></li></ul></li><li class="sidebar-sub-header"><a href="/pages/49dcb1/#进程通信" class="sidebar-link">6️⃣进程通信</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/49dcb1/#分类" class="sidebar-link">分类</a></li><li class="sidebar-sub-header"><a href="/pages/49dcb1/#消息缓冲机制" class="sidebar-link">消息缓冲机制</a></li><li class="sidebar-sub-header"><a href="/pages/49dcb1/#邮箱通信" class="sidebar-link">邮箱通信</a></li><li class="sidebar-sub-header"><a href="/pages/49dcb1/#管道-pipe" class="sidebar-link">管道 / Pipe</a></li></ul></li><li class="sidebar-sub-header"><a href="/pages/49dcb1/#🔒死锁" class="sidebar-link">7️⃣🔒死锁</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/49dcb1/#定义" class="sidebar-link">定义</a></li><li class="sidebar-sub-header"><a href="/pages/49dcb1/#起因" class="sidebar-link">起因</a></li><li class="sidebar-sub-header"><a href="/pages/49dcb1/#产生的必要条件" class="sidebar-link">产生的必要条件</a></li><li class="sidebar-sub-header"><a href="/pages/49dcb1/#排除方法" class="sidebar-link">排除方法</a></li><li class="sidebar-sub-header"><a href="/pages/49dcb1/#银行家算法" class="sidebar-link">银行家算法</a></li></ul></li></ul></li><li><a href="/pages/c85d6a/" class="sidebar-link">04.处理机调度</a></li><li><a href="/pages/31e0aa/" class="sidebar-link">内存管理</a></li><li><a href="/pages/bd1049/" class="sidebar-link">06.文件系统</a></li><li><a href="/pages/505b32/" class="sidebar-link">07.设备管理</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span> Linux操作实验</span> <span class="arrow right"></span></p> <!----></section></li></ul> <div class="sidebar-slot sidebar-slot-bottom"><!-- 正方形 -->
      <ins class="adsbygoogle"
          style="display:block"
          data-ad-client="ca-pub-7828333725993554"
          data-ad-slot="3508773082"
          data-ad-format="auto"
          data-full-width-responsive="true"></ins>
      <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
      </script></div></aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-33863c7e><div class="articleInfo" data-v-33863c7e><ul class="breadcrumbs" data-v-33863c7e><li data-v-33863c7e><a href="/" title="首页" class="iconfont icon-home router-link-active" data-v-33863c7e></a></li> <li data-v-33863c7e><a href="/note/osnote" title="&lt;操作系统&gt;笔记-目录页" data-v-33863c7e>&lt;操作系统&gt;笔记</a></li> <!----> <!----></ul> <div class="info" data-v-33863c7e><div title="作者" class="author iconfont icon-touxiang" data-v-33863c7e><a href="https://github.com/realsimonooo" target="_blank" title="作者" class="beLink" data-v-33863c7e>Simon(realsimonooo)</a></div> <div title="创建时间" class="date iconfont icon-riqi" data-v-33863c7e><a href="javascript:;" data-v-33863c7e>2021-03-19</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-content"></div></div></div> <h1><!---->
          03.进程管理
        </h1> <div class="page-slot page-slot-top"><!-- 固定100% * 90px可显示，max-height:90px未见显示-->
     <ins class="adsbygoogle"
          style="display:inline-block;width:100%;max-height:90px"
          data-ad-client="ca-pub-7828333725993554"
          data-ad-slot="6625304284"></ins>
      <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
      </script></div> <div class="theme-vdoing-content content__default"><h2 id="进程"><a href="#进程" class="header-anchor">#</a> 1️⃣进程</h2> <h3 id="程序"><a href="#程序" class="header-anchor">#</a> 程序</h3> <p>程序：是一个在⌚️时间上<strong>严格按照先后次序操作的指令序</strong>列；</p> <p>​	静态型：是一个静态的概念；</p> <h4 id="程序的顺序执行"><a href="#程序的顺序执行" class="header-anchor">#</a> 程序的顺序执行</h4> <p>单道程序设计时程序执行顺序的特点：</p> <ul><li>顺序性：严格程序规定的状态转移；</li> <li>封闭性：由初始条件决定，<strong>不受外界影响</strong>；</li> <li>可再现性：最终的结果与执行速度无关，只要初始条件相同，则无变化；</li></ul> <div class="language-pascal line-numbers-mode"><pre class="language-pascal"><code>	<span class="token keyword">Repeat</span>  IR ← M ［PC］
		 PC ← PC <span class="token operator">+</span><span class="token number">1</span>
		〈 Execute <span class="token punctuation">(</span>instruction <span class="token operator">in</span> IR<span class="token punctuation">)</span>〉
	<span class="token keyword">Until</span> CPU halt
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>⭐️多道程序系统中的程序执行的特点：</p> <ul><li><strong>独立性</strong>：逻辑上独立，每道程序；</li> <li><strong>随机性</strong>：输入与程序<strong>开始的时间</strong>是随机的；</li> <li><strong>资源共享性</strong>：硬件与软件资源共享；</li></ul> <h4 id="程序并发"><a href="#程序并发" class="header-anchor">#</a> 程序并发</h4> <ul><li>为了<mark>增强计算机的处理能力和提供资源利用率</mark>所设计的一种同时操作技术；</li> <li>影响：
<ul><li>优点：⬆️提高了<strong>资源的利用率</strong>；</li> <li>缺点：必然导致了<strong>资源共享和竞争</strong>，从而改变了程序的<strong>执行速度</strong>。</li> <li>如果并发程序不按照特定的规则和方法进行资源共享和竞争，其执行结果将不可避免失去<strong>封闭性和可再现性</strong>。</li></ul></li></ul> <h3 id="进程的概念"><a href="#进程的概念" class="header-anchor">#</a> 进程的概念</h3> <ul><li><p>进程指：</p> <ul><li><mark>一个被<strong>调入内存正在执行</strong>的程序</mark>；</li> <li>一个具有<strong>独立功能</strong>的程序对<strong>某个数据集</strong>在<strong>CPU处理器上</strong>的执行过程。</li></ul></li> <li><p>进程包括：</p> <ul><li>代码段；</li> <li>堆栈段；</li> <li>数据段；</li></ul></li> <li><p>🌟<mark><strong>进程的特点：</strong></mark></p> <ul><li><strong>动态性；</strong></li> <li><strong>并发性；</strong></li> <li><strong>独立性；</strong></li> <li><strong>异步性；</strong></li></ul></li></ul> <h3 id="进程和程序的区别"><a href="#进程和程序的区别" class="header-anchor">#</a> 进程和程序的区别</h3> <table><thead><tr><th>进程</th> <th>程序</th></tr></thead> <tbody><tr><td>动态</td> <td>静态</td></tr> <tr><td>并发性</td> <td>🈚️没有并发性</td></tr> <tr><td><mark><strong>是竞争系统资源的基本单位</strong></mark></td> <td>🈚️不具有系统资源竞争性</td></tr> <tr><td><strong>不同进程可以包含同一个程序</strong>，程序对应的数据集不同。</td> <td>可以有<strong>多个进程</strong></td></tr></tbody></table> <h3 id="进程和作业的区别"><a href="#进程和作业的区别" class="header-anchor">#</a> 进程和作业的区别</h3> <table><thead><tr><th>进程</th> <th>作业</th></tr></thead> <tbody><tr><td>具有独立功能的<mark><strong>程序</strong></mark>对某个数据集在CPU处理器上的<mark><strong>执行过程</strong></mark></td> <td>用户需要计算机完成某项任务时要求计算机<mark><strong>所做工作的集合</strong></mark></td></tr> <tr><td><strong>是执行任务的执行实体</strong></td> <td>提交任务的<strong>任务实体</strong></td></tr> <tr><td></td> <td><mark>一个作业可以由<strong>多个进程</strong>组成</mark></td></tr></tbody></table> <h3 id="进程控制块-pcb"><a href="#进程控制块-pcb" class="header-anchor">#</a> 进程控制块 / PCB</h3> <ul><li><p>进程控制块<mark><strong>包含与特定程序相关的信息</strong></mark>：</p> <blockquote><p>进程状态、进程号、程序计数器、CPU寄存器、CPU调度信息、内存管理信息、记账信息、I/O状态信息；</p></blockquote> <ol><li><p><strong>描述信息</strong>：</p> <blockquote><ol><li>进程名或进程标识号；</li> <li>用户名或用户标识号；</li> <li>家族关系；</li></ol></blockquote></li> <li><p><strong>控制信息：</strong></p> <blockquote><ol><li><strong>进程当前状态</strong>：初始态、就绪态、执行态、等待状态、终止状态；</li> <li><strong>进程优先级</strong>：进程优先级是选取<strong>进程占有处理机的重要依据</strong>：a. 占有CPU时间 b. 进程优先级偏移 c. 占据内存时间等；</li> <li>程序开始地址；</li> <li>各种计时信息；</li> <li>通信信息；</li></ol></blockquote></li> <li><p><strong>资源管理信息</strong></p> <blockquote><ol><li>占用<strong>内存大小</strong>及其管理用<strong>数据结构指针</strong>；</li> <li>在某些复杂系统中，还有<strong>对换或覆盖用的有关信息</strong>，如对换程序段长度，对换外存地址等；</li> <li>共享程序段<strong>大小及起始地址</strong>；</li> <li>输入输出设备的设备号，所要传送的数据长度、缓冲区地址、缓冲区长度及所用设备的有关数据结构指针等；</li> <li>指向文件系统的指针及有关标识等；</li></ol></blockquote></li> <li><p><strong>CPU现场保护结构</strong></p> <blockquote><p>存储退出执行时的<strong>进程现场数据</strong>（或称<strong>进程上下文</strong>）；</p></blockquote></li></ol></li> <li><p><mark>🌟：<strong>进程控制块是系统感知进程存在的唯一实体。</strong></mark></p></li></ul> <h3 id="进程上下文"><a href="#进程上下文" class="header-anchor">#</a> 进程上下文</h3> <ul><li>是<strong>进城执行活动全过程</strong>的静态描述；</li></ul> <p><img src="https://gitee.com/realsimonooo/blog-image/raw/master/uPic/KAneXh.png" alt="image-20210407193212501"></p> <ul><li><p><strong>进程上下文的切换：</strong></p> <ul><li><p>发生在<strong>不同的进程之间</strong>而不是同一个进程内；</p></li> <li><p>进程切换过程设计3个部分；</p> <blockquote><ol><li>保存被切换进程的正文部分（当前状态）至存储区，例如进程的PCB；</li> <li>进程中有关调度和资源分配程序执行，并选取新的进程；</li> <li>被选中进程的原来被保存的正文部分从存储区取出，送至有关寄存器和堆栈，激活被选中进程执行；</li></ol></blockquote></li></ul> <img src="https://gitee.com/realsimonooo/blog-image/raw/master/uPic/fO5Wbq.png" alt="image-20210407193244361" style="zoom:50%;"></li></ul> <h3 id="进程空间与大小"><a href="#进程空间与大小" class="header-anchor">#</a> 进程空间与大小</h3> <p><img src="https://gitee.com/realsimonooo/blog-image/raw/master/uPic/UCfLkx.png" alt="image-20210407193809462"></p> <ul><li><p>进程空间：任一进程都有自己的地址空间；</p> <blockquote><p>程序的<mark><strong>执行都在进程空间内进行</strong></mark>。</p> <p>用户程序、进程和各种控制表格等都按照一定的结构排列在进程空间中；</p> <p>在UNIX及Linux等操作系统中，进程空间被划分为用户空间和系统空间；➡️被划分两大部分后，<strong>用户程序在用户空间内执行，操作系统内核程序则在系统空间内执行</strong>；</p> <p>➡️为了避免访问出错，计算机系统通过程序状态寄存器等设置不同的执行模式，用户模式和系统模式（又称用户态、系统态）；</p></blockquote></li> <li><p>进程空间的大小： <mark>只与处理机的位数有关</mark>。</p> <ul><li><strong>进程的大小就是进程空间的大小</strong>；</li></ul> <blockquote><p>一个16位的长处理机的进程空间大小为2^16^，32位的长处理机的进程空间为2^32^；</p></blockquote></li></ul> <h2 id="进程状态"><a href="#进程状态" class="header-anchor">#</a> 2️⃣进程状态</h2> <h3 id="进程状态转换"><a href="#进程状态转换" class="header-anchor">#</a> 进程状态转换</h3> <img src="https://gitee.com/realsimonooo/blog-image/raw/master/uPic/tEwOvo.png" alt="image-20210407194514909" style="zoom:33%;"> <ul><li><strong>就绪</strong>： 已经得到<strong>除CPU</strong>之外的资源，只要调度得到处理机就可立刻执行；</li> <li>执行：任何时刻<strong>处于执行状态的进程只能有一个</strong>；</li> <li>等待：因等待某个时间发生而放弃处理机进入等待状态；</li></ul> <h2 id="进程调度"><a href="#进程调度" class="header-anchor">#</a> 3️⃣进程调度</h2> <ul><li><p>调度队列 / queues：</p> <ul><li>作业队列；</li> <li>就绪队列；</li> <li>设备队列；</li></ul></li> <li><p>进程调度程序：</p> <ul><li>长期调度程序</li> <li>短期调度程序</li> <li>中期调度程序</li></ul></li></ul> <h2 id="进程控制"><a href="#进程控制" class="header-anchor">#</a> 4️⃣进程控制</h2> <ul><li>系统使用一些具有特定功能的程序段来<strong>创建、撤销进程</strong>并完成<strong>进程各状态间的转换</strong>，从而达到：
<ul><li>🌟多进程的<strong>高效率并发和协调</strong>；</li> <li>🌟实现<strong>资源共享</strong>；</li></ul></li></ul> <h3 id="原语"><a href="#原语" class="header-anchor">#</a> 原语</h3> <ul><li><p>把系统态执行的<strong>某些特定功能程序段</strong>称为原语；</p></li> <li><p>分为两类：</p> <ul><li>机器指令级，特点是执行期间<mark><strong>不允许中断</strong></mark>；在操作系统中是不可分割的基本单位；</li> <li>功能级，特点是作为原语的程序段<mark><strong>不允许并发执行</strong></mark>；</li></ul></li> <li><p>作用：通常把<strong>进程控制用</strong>的程序段作为原语；</p> <ul><li>进程控制原语🈶️：
<ul><li>创建；</li> <li>撤销；</li> <li>阻塞；</li> <li>唤醒；</li></ul></li></ul></li></ul> <h3 id="进程的创建"><a href="#进程的创建" class="header-anchor">#</a> 进程的创建</h3> <ul><li><p>由系统程序模块<strong>统一创建</strong>，例如批处理系统；</p></li> <li><p>创建方式：系统调用或者父进程创建子进程，以此形成进程树🌲；</p> <blockquote><p>系统创建的进程之间是平等的；</p> <p>父进程与子进程之间存在隶属关系，构成树形结构的家族关系，属于某个家族的一个进程可以<strong>继承其父进程所拥有的资源</strong>（限制子进程只能使用父进程资源子集）；父进程与子进程共享所有资源；父子进程共享初始化资源；</p></blockquote></li> <li><p>两种创建方式都需要调用<strong>创建原语</strong>来实现；</p></li> <li><p>创建原语的实现过程：</p></li></ul> <img src="https://gitee.com/realsimonooo/blog-image/raw/master/uPic/5aXTFG.png" alt="image-20210407202433767" style="zoom:50%;"> <h3 id="进程的撤销"><a href="#进程的撤销" class="header-anchor">#</a> 进程的撤销</h3> <ul><li><p>导致进程被撤销的情况：</p> <ol><li>进程已完成所要求的功能而<strong>正常终止</strong>；</li> <li>由于某种错误<strong>非正常终止</strong>；</li> <li>祖先进程要求撤销某个子进程；</li></ol></li> <li><p>被撤销的进程，必须释放它所占用的各种资源和PCB结构，以利于资源的有效利用；</p></li> <li><p>撤销原语的实现过程：</p></li></ul> <img src="https://gitee.com/realsimonooo/blog-image/raw/master/uPic/VQqqUD.png" alt="image-20210407203638949" style="zoom:50%;"> <h3 id="进程的阻塞"><a href="#进程的阻塞" class="header-anchor">#</a> 进程的阻塞</h3> <ul><li><p>阻塞原语：实现进程的<strong>执行状态➡️到到等待状态</strong>；</p></li> <li><p>情况： 一个进程期待某一事件发生，但<strong>发生条件不具备</strong>时，被该进程自己调用阻塞原语安来阻塞自己；</p></li> <li><p>阻塞原语的实现过程：</p> <img src="https://gitee.com/realsimonooo/blog-image/raw/master/uPic/Ce7GMM.png" alt="image-20210407204022095" style="zoom:50%;"></li></ul> <h3 id="进程的唤醒"><a href="#进程的唤醒" class="header-anchor">#</a> 进程的唤醒</h3> <ul><li><p>在等待队列中的进程所等待的时间发生时，<strong>等待该事件的所有进程</strong>都被唤醒；</p></li> <li><p>唤醒一个进程的<strong>两种方式</strong>：</p> <ul><li><p>由系统进程唤醒；</p></li> <li><p>由事件发生进程进程唤醒；</p> <blockquote><p>处于阻塞状态的进程不能自己唤醒自己（❓）；</p></blockquote></li></ul></li> <li><p>唤醒原语的实现过程：</p> <img src="https://gitee.com/realsimonooo/blog-image/raw/master/uPic/YB465i.png" alt="image-20210407204452510" style="zoom:50%;"></li></ul> <h2 id="线程"><a href="#线程" class="header-anchor">#</a> 5️⃣线程</h2> <h3 id="线程的概念"><a href="#线程的概念" class="header-anchor">#</a> 线程的概念</h3> <ul><li><p>线程：<mark> 🌟是一个<strong>进程内</strong>的基本调度单位</mark>，也称轻权进程；线程既可以由操作系统内核调度，也可以由用户程序控制；</p></li> <li><p>引入线程目的：</p> <p>⬆️提高系统执行效率，</p> <p>⬇️减少处理机空转时间和调度切换时间，便于系统管理；</p></li> <li><p>线程的<strong>适用范围</strong>：</p> <ul><li>服务器中的文件管理或者通信控制；（⬇️可以减少<strong>内存开销</strong>）</li> <li>前后台处理；（⬇️减少<strong>处理机切换时间</strong>⬆️提高执行速度）</li> <li>异步处理；（程序中两部分如果没有执行的顺序规定，则🉑️可以使用<strong>线程执行</strong>）</li></ul></li></ul> <h3 id="多线程系统中进程和线程的关系"><a href="#多线程系统中进程和线程的关系" class="header-anchor">#</a> 多线程系统中进程和线程的关系</h3> <p><img src="https://gitee.com/realsimonooo/blog-image/raw/master/uPic/nraMLJ.png" alt="image-20210407204843517"></p> <h3 id="线程和进程的区别"><a href="#线程和进程的区别" class="header-anchor">#</a> 线程和进程的区别</h3> <table><thead><tr><th>进程</th> <th>线程</th></tr></thead> <tbody><tr><td>程序独立资源分配的基本单位</td> <td>CPU执行的基本单位</td></tr> <tr><td>🈶️独立地址空间</td> <td><mark>共享</mark>统一地址空间；<br>与进程共享资源；</td></tr> <tr><td>调度开销较大➕</td> <td>调度开销较小➖</td></tr></tbody></table> <h3 id="线程分类"><a href="#线程分类" class="header-anchor">#</a> 线程分类</h3> <table><thead><tr><th>用户线程</th> <th>系统线程</th></tr></thead> <tbody><tr><td>用户程序完成</td> <td>操作系统内核</td></tr> <tr><td>系统开销小</td> <td>小于进程开销，大于用户线程开销</td></tr> <tr><td>上下文切换在用户栈、用户寄存器之间进行，不涉及处理机状态</td> <td>可以调度到一个处理机上并发运行，也可以在不同的处理机上并发运行</td></tr> <tr><td>会被阻塞或者处于等待状态</td> <td>不会被阻塞或者处于等待状态</td></tr></tbody></table> <h2 id="进程通信"><a href="#进程通信" class="header-anchor">#</a> 6️⃣进程通信</h2> <h3 id="分类"><a href="#分类" class="header-anchor">#</a> 分类</h3> <ol><li><p><strong>主从式</strong></p> <ul><li>主进程可以自由使用从进程的资源；</li> <li>从进程的动作收到主进程的限制；</li> <li>主进程和从进程关系固定；</li></ul> <p>应用： 终端控制进程、终端进程；</p></li> <li><p><strong>会话式</strong></p> <ul><li>使用进程提供的服务时，必须要得到<strong>许可</strong>；</li> <li>服务进程根据使用进程的要求提供服务，<strong>单控制权</strong>属于服务进程本身；</li> <li>使用进程和服务进程<strong>关系固定</strong>；</li></ul> <p>应用： 用户进程、磁盘管理</p></li> <li><p><strong>消息或邮箱机制</strong></p> <ul><li>只要存在<strong>空缓存区</strong>或者<strong>邮箱</strong>，发送进程就可以<strong>发送信息</strong>；</li> <li>发送进程和接受进程<strong>没有直接的关系</strong>；
<ul><li>之间存在缓冲区或邮箱用来<strong>存放被传输的信息</strong>；</li></ul></li></ul></li> <li><p><strong>共享内存机制</strong></p> <ul><li>共享内存方式 不要求 <strong>数据移动</strong>；</li> <li>需要互相交互的信息的进程通过对同一<strong>共享数据区</strong>的操作来达到互相通信目的；</li></ul></li></ol> <h3 id="消息缓冲机制"><a href="#消息缓冲机制" class="header-anchor">#</a> 消息缓冲机制</h3> <p>消息缓冲机制使用的缓冲区是<strong>公用缓冲区</strong>，使用消息缓冲机制传送数据时，<strong>通信进程</strong>应该满足条件：</p> <ul><li><p>进程对缓冲区的操作 <strong>必须互斥</strong>；</p></li> <li><p>当缓冲区无消息存在时，<strong>接受进程不能接受到任何消息</strong>；</p> <blockquote><p>设公用信号量<code>mutex</code>， 接受进程私用信号量<code>SM</code>，消息<code>m</code>：</p> <ol><li>发送信息</li></ol> <div class="language- line-numbers-mode"><pre class="language-text"><code>Send(m):
  Begin
  向系统申请一个消息缓冲区
  P(mutex)
  	# 将消息m发送到新申请的消息缓冲区
  V(mutex)
  V(SM)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><ol start="2"><li><p>接受信息</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>Receive(m):
  Begin
  P(SM)
  P(mutex)
  	# 将消息m从缓冲区复制到接收区并释放缓冲区
  V(mutex)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div></li></ol></blockquote></li></ul> <h3 id="邮箱通信"><a href="#邮箱通信" class="header-anchor">#</a> 邮箱通信</h3> <p>对于一个发送进程和一个接收进程使用的邮箱，进程间通信应该满足条件：</p> <ul><li><p>发送进程发送消息时，<strong>邮箱中至少有一个存储消息的单元</strong>；</p></li> <li><p>接收进程接收信息时，<strong>邮箱中至少有一个消息存在</strong>；</p> <p><img src="https://gitee.com/realsimonooo/blog-image/raw/master/uPic/5pLHwz.png" alt="image-20210424231039437"></p></li></ul> <h3 id="管道-pipe"><a href="#管道-pipe" class="header-anchor">#</a> 管道 / Pipe</h3> <p><img src="https://gitee.com/realsimonooo/blog-image/raw/master/uPic/iupt4l.png" alt="image-20210424231149389"></p> <p>管道逻辑上是管道文件，物理上由文件系统的高速缓冲区构成；</p> <blockquote><p>Unix系统从System V开始，提供有名管道和无名管道两种数据通信方式；</p> <p>无名管道为建立管道的进程及其子进程提供一条以<strong>比特流方式传送</strong>消息的通信管道；</p></blockquote> <div class="language-c line-numbers-mode"><pre class="language-c"><code><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
	<span class="token keyword">int</span> x<span class="token punctuation">,</span>fd<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token keyword">char</span> buf<span class="token punctuation">[</span><span class="token number">30</span><span class="token punctuation">]</span><span class="token punctuation">,</span>s<span class="token punctuation">[</span><span class="token number">30</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token function">Pipe</span><span class="token punctuation">(</span>fd<span class="token punctuation">)</span><span class="token punctuation">;</span>
 	<span class="token keyword">while</span><span class="token punctuation">(</span><span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token function">fork</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">==</span>－<span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//创建子进程失败，原地循环</span>
 	<span class="token keyword">if</span><span class="token punctuation">(</span>x<span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span>
	<span class="token punctuation">{</span> 
    	<span class="token function">sprintf</span><span class="token punctuation">(</span>buf<span class="token punctuation">,</span>”子进程写信息到父进程”<span class="token punctuation">)</span><span class="token punctuation">;</span>
 			<span class="token function">write</span><span class="token punctuation">(</span>fd<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span>buf<span class="token punctuation">,</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token function">exit</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>	 
    	<span class="token function">wait</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
    	<span class="token function">read</span><span class="token punctuation">(</span>fd<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>s<span class="token punctuation">,</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">printf</span><span class="token punctuation">(</span>“<span class="token operator">%</span>s”<span class="token punctuation">,</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h2 id="🔒死锁"><a href="#🔒死锁" class="header-anchor">#</a> 7️⃣🔒死锁</h2> <h3 id="定义"><a href="#定义" class="header-anchor">#</a> 定义</h3> <p>当多个进程因为<strong>竞争资源</strong>而造成的一种僵局，没有外力作用下，这些进程将永远不能继续向前推进。</p> <h3 id="起因"><a href="#起因" class="header-anchor">#</a> 起因</h3> <ul><li>并发进程的资源竞争；</li> <li>进程的推进顺序不正确（不当）；</li></ul> <h3 id="产生的必要条件"><a href="#产生的必要条件" class="header-anchor">#</a> 产生的必要条件</h3> <ul><li><strong>互斥条件</strong>： 资源的排他性；</li> <li><strong>不剥夺条件</strong>：进程对获得的资源在没有使用完毕之前，其它进程不可以剥夺使用权力；</li> <li><strong>部分分配条件</strong>：进程每次申请新的资源时，同时还要占用已经分配的资源；</li> <li><strong>环路条件</strong>： 存在<strong>♻️进程循环链</strong>，链中的每个进程已经获得的资源同时被下一个进程申请；</li></ul> <h3 id="排除方法"><a href="#排除方法" class="header-anchor">#</a> 排除方法</h3> <ul><li><p>⭐️<strong>死锁的预防</strong>:</p> <ul><li><strong>一次性分配法</strong></li> <li>资源顺序分配法</li> <li>先释放资源，后申请资源</li></ul></li> <li><p>⭐️<strong>死锁的避免</strong></p> <ul><li><p><strong>动态预防</strong></p> <blockquote><p>系统根据某种算法在动态分配资源时，预测出死锁发生的可能性，并且加以预防；</p></blockquote></li> <li><p><strong>银行家算法</strong></p></li></ul></li> <li><p>⭐️<strong>死锁的检测</strong></p> <ul><li><strong>资源分配静态图法</strong>：给定的<strong>进程—资源图</strong>进行化简；</li></ul></li> <li><p>⭐️<strong>死锁的解除</strong></p> <ul><li>剥夺资源；</li> <li>撤销资源；</li></ul></li></ul> <h3 id="银行家算法"><a href="#银行家算法" class="header-anchor">#</a> 银行家算法</h3> <p>操作系统按照银行家指定的规则，为进程分配资源；</p> <p>​	当进程首次申请资源时，要测试该进程对资源的最大需求量；</p> <p>​	如果系统现存的资源满足它的最大需求量，则按照当前的申请量分配资源，否则推迟分配。</p></div></div> <div class="page-slot page-slot-bottom"><!-- 横向自适应 -->
      <ins class="adsbygoogle"
          style="display:block"
          data-ad-client="ca-pub-7828333725993554"
          data-ad-slot="6620245489"
          data-ad-format="auto"
          data-full-width-responsive="true"></ins>
      <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
      </script></div> <div class="page-edit"><!----> <!----> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">2021/04/26, 13:34:45</span></div></div> <div class="page-nav-wapper"><!----> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/pages/2516b8/" class="prev">02.作业</a></span> <span class="next"><a href="/pages/c85d6a/">04.处理机调度</a>→
      </span></p></div></div></div> <div class="article-list"><div class="article-title"><a href="/archives/" class="iconfont icon-bi">最近更新</a></div> <div class="article-wrapper"><dl><dd>01</dd> <dt><a href="/pages/66e2f4/"><div>事务管理</div></a> <span>07-05</span></dt></dl><dl><dd>02</dd> <dt><a href="/pages/3a7764/"><div>b5c333</div></a> <span>06-29</span></dt></dl><dl><dd>03</dd> <dt><a href="/pages/143e52/"><div>请求与响应</div></a> <span>06-23</span></dt></dl> <dl><dd></dd> <dt><a href="/archives/" class="more">更多文章&gt;</a></dt></dl></div></div></main></div> <div class="footer"><div class="icons"><a href="mailto:simonlaw910@gmail.com" title="E-mail" target="_blank" class="iconfont icon-youjian"></a><a href="https://github.com/realsimonooo" title="GitHub" target="_blank" class="iconfont icon-github"></a><a href="https://t.me/realsimonooo" title="Telegram" target="_blank" class="iconfont icon-telegram"></a></div> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="本站主题">Vdoing</a> 
    | Copyright © 2021-2021
    <span>Simon Luo with 💙&🌏</span></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">跟随系统</li><li class="iconfont icon-rijianmoshi">浅色模式</li><li class="iconfont icon-yejianmoshi">深色模式</li><li class="iconfont icon-yuedu">阅读模式</li></ul></div></div> <!----> <!----> <div class="custom-html-window custom-html-window-rb" style="display:;"><div class="custom-wrapper"><i class="close-but">×</i> <div><!-- 固定160*160px -->
      <ins class="adsbygoogle"
          style="display:inline-block;max-width:160px;max-height:160px"
          data-ad-client="ca-pub-7828333725993554"
          data-ad-slot="8377369658"></ins>
      <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
      </script>
      </div></div></div></div><div class="global-ui"><div></div></div></div>
    <script src="/assets/js/app.19ffe2dc.js" defer></script><script src="/assets/js/2.d422faa2.js" defer></script><script src="/assets/js/60.33108cf5.js" defer></script>
  </body>
</html>